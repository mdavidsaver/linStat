# host Network Interface Card stats
# macros
#  P - common record prefix.  eg. P=LOCALHOST:ETH0
#  NIC - Interface name.  eg NIC="eth0"

global {IOC="\$(IOC):NET:$(NIC)"}

file "tblScan.template" {
{NAME="NETDEV", OUT="ifstat|\$(NIC)|xxx", PERIOD="10"}
{NAME="ETHTOOL", OUT="ethtool|\$(NIC)|xxx", PERIOD="10"}
}

file "tblGetSI.template" {
{NAME="NAME", INP="ifstat|\$(NIC)|name"}
}

file "tblGetRateI64.template" {
{NAME="RX", INP="ifstat|\$(NIC)|rx_bytes", ASLO="0.0009765625", EGU="KB/s"}
{NAME="RX:E", INP="ifstat|\$(NIC)|rx_errors", EGU="Hz",
    HIGH="0.1", HSV="MAJOR"}
{NAME="RX:D:IP", INP="ifstat|\$(NIC)|rx_dropped", EGU="Hz",
    HIGH="0.0001", HSV="MAJOR"}

{NAME="TX", INP="ifstat|\$(NIC)|tx_bytes", ASLO="0.0009765625", EGU="KB/s"}
{NAME="TX:E", INP="ifstat|\$(NIC)|tx_errors", EGU="Hz",
    HIGH="0.1", HSV="MAJOR"}
{NAME="TX:D:IP", INP="ifstat|\$(NIC)|tx_dropped", EGU="Hz",
    HIGH="0.0001", HSV="MAJOR"}

{NAME="UP:R", INP="ifstat|\$(NIC)|carrier_up_count", EGU="Hz"}
{NAME="DOWN:R", INP="ifstat|\$(NIC)|carrier_down_count", EGU="Hz"}


{NAME="RX:D:DRV", INP="ethtool|\$(NIC)|rx_dropped", EGU="Hz",
    HIGH="0.0001", HSV="MAJOR"}
{NAME="TX:D:DRV", INP="ethtool|\$(NIC)|tx_dropped", EGU="Hz",
    HIGH="0.0001", HSV="MAJOR"}
}

file "tblGetI64.template" {
{NAME="IFFLAGS", INP="ifstat|\$(NIC)|if_flags"}
{NAME="MTU", INP="ifstat|\$(NIC)|mtu", EGU="B"}
}

file "tblGetSI.template" {
{NAME="DRV", INP="ethtool|\$(NIC)|driver"}
}

file "logicNIC.template" {
{NIC="\$(NIC)"}
}
